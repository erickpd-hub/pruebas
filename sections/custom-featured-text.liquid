{% comment %}
  Asigna las configuraciones (settings) a variables Liquid
{% endcomment %}
{% assign title = section.settings.title %}
{% assign description = section.settings.description %}
{% assign background_color = section.settings.background_color %}
{% assign text_color = section.settings.text_color %} 
{# AÑADIDO: Nueva variable para el color del texto #}

<section 
  class="custom-featured-text-section"
  style="background-color: {{ background_color | default: '#f3f4f6' }};{% unless title != blank %} display: none;{% endunless %}"
>
  <div class="custom-featured-text__container">
    {% if title != blank %}
      <h2 class="custom-featured-text__title">
        {{ title | escape }}
      </h2>
      {% if description != blank %}
        <div class="custom-featured-text__description">
          {{ description }}
        </div>
      {% endif %}
    {% endif %}
  </div>
</section>


{% stylesheet %}
  .custom-featured-text__container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 2rem 1rem;
  }
  
  .custom-featured-text__title {
    font-size: 2rem;
    font-weight: bold;
    margin-bottom: 1rem;
    color: {{ text_color | default: '#333333' }}; /* APLICACIÓN del color al título */
  }
  
  .custom-featured-text__description {
    font-size: 1.125rem;
    line-height: 1.6;
    color: {{ text_color | default: '#555555' }}; /* APLICACIÓN del color a la descripción */
  }
  
  @media (min-width: 768px) {
    .custom-featured-text__container {
      padding: 3rem 2rem;
    }
    
    .custom-featured-text__title {
      font-size: 2.5rem;
    }
  }
{% endstylesheet %}


{% schema %}
{
  "name": "Custom text",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Título",
      "default": "Escribe tu texto Aquí"
    },
    {
      "type": "richtext",
      "id": "description",
      "label": "Descripción",
      "default": "<p>Agrega una descripción para tu texto.</p>"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Color de Fondo",
      "default": "#f3f4f6"
    },
    { 
      "type": "color",
      "id": "text_color",
      "label": "Color de Texto",
      "default": "#333333" 
    } 
  ],
  "presets": [
    {
      "name": "Custom text",
      "category": "Texto",
      "settings": {
        "title": "Escribe tu texto Aquí"
      }
    }
  ]
}
{% endschema %}